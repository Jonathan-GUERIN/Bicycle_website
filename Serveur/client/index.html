<!DOCTYPE html>
<html>
<head>
    <title>Vélo'v</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<header>
	<div><img src=images/logo_velov.png><div>
	<div><button type="button" onclick="window.location.href = 'index.html';"> Accueil </button> <button type="button" onclick="window.location.href = 'carte.html';"> Carte </button><div>
	<div><img src=images/logo_metropole.png><div>
</header>





<body>
    <h1 class='titresection' >Hello world</h1>
    <fieldset>
        <legend>Ponctualité</legend>
        <label>Région: <input id="Region"></label><button id='bouton'>Afficher courbe</button>
    </fieldset>
	
    <h1 class='titresection' >Hello world</h1>
	
    <h1 class='titresection' >Hello world</h1>
	
    <h1 class='titresection' >Hello world</h1>

    <div id='reponse'>
    </div>

    <script>
        document.getElementById('bouton').addEventListener('click', envoiformulaire);
         
        function envoiformulaire(e) {
          var xhr = new XMLHttpRequest(); 
          // on récupére le nom et le prénom
          var reg = document.getElementById('Region').value,
          xhr,onload = function() {   // fonction callback
            // récupération des données renvoyées par le serveur
            var data = JSON.parse(this.responseText);
            // affichage dans la zone 'reponse' du prénom et du nom récupéré par l'appel au serveur
            document.getElementById('reponse').innerHTML = '<img src=' +data.linkimg+' alt=courbe de ponctualité de '+reg+'></img>';
            };
          xhr.open('GET','/courbe?'+'Region='+reg,true);  // requête avec une "query string"
          xhr.send();
        }
    </script>
</body>
</html>